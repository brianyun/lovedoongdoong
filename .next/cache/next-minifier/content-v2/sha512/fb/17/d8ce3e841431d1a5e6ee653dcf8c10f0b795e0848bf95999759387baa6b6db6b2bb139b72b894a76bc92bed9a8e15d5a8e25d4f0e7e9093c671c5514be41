{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{C5RK:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/loading\",function(){return n(\"Ti5x\")}])},Ti5x:function(t,e,n){\"use strict\";n.r(e);var o=n(\"q1tI\"),a=n.n(o),r=n(\"nOHt\"),u=n(\"/MKj\"),c=n(\"wFql\"),i=n(\"BMrR\"),s=n(\"kPKH\"),l=n(\"+UcI\"),f=n(\"QsL+\").a.firestore(),d=n(\"wQ5h\"),h=\"undefined\"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!==typeof msCrypto&&\"function\"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),p=new Uint8Array(16);function b(){if(!h)throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return h(p)}var w=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var g=function(t){return\"string\"===typeof t&&w.test(t)},m=[],y=0;y<256;++y)m.push((y+256).toString(16).substr(1));var j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+\"-\"+m[t[e+4]]+m[t[e+5]]+\"-\"+m[t[e+6]]+m[t[e+7]]+\"-\"+m[t[e+8]]+m[t[e+9]]+\"-\"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase();if(!g(n))throw TypeError(\"Stringified UUID is invalid\");return n};var v=function(t,e,n){var o=(t=t||{}).random||(t.rng||b)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=o[a];return e}return j(o)},O=function(t){var e;for(e=0;e<t.length;++e)t[e]*Math.pow(10,e);switch(99*Math.pow(10,t.length),Math.floor(3*Math.random())){case 0:\"ENTP\";case 1:\"unicorn\";case 2:\"dinosaur\";default:\"unicorn\"}return[\"alpaca\",\"chihuahua\",\"cow\",\"crab\",\"deoksun\",\"dinosaur\",\"fish\",\"giraffe\",\"gorilla\",\"hamster\",\"hedgehog\",\"husky\",\"koala\",\"llama\",\"malteeze\",\"meerkat\",\"panda\",\"parrot\",\"persian\",\"polar\",\"pomenarian\",\"poodle\",\"quokka\",\"rabbit\",\"retriever\",\"shorthair\",\"sloth\",\"squirrel\",\"turtle\",\"unicorn\",\"welsh\",\"woodpecker\"][1+Math.floor(32*Math.random())]},_=n(\"sncw\"),E=n(\"iQKB\"),R=n(\"+18s\"),U=a.a.createElement,k=c.a.Text;e.default=function(){var t=Object(r.useRouter)(),e=Object(u.b)(),n=Object(u.c)((function(t){return t.answer})).ans,c=Object(u.c)((function(t){return t.answer})).url,h=Object(o.useState)(null),p=h[0],b=h[1],w=Object(o.useState)(null),g=w[0],m=w[1],y=Object(o.useState)(null),j=y[0],S=y[1],x=Object(o.useState)(null),T=x[0],M=x[1],C=Object(o.useState)(!1),D=C[0],L=C[1],N=Object(o.useState)(null),K=N[0],V=N[1];Object(o.useEffect)((function(){if(n){console.log(\"ans is \",n),V(_[O(n)]);var e=new Date,o=v(),a={answer:n,type:O(n),created_at:e,updated_at:e};f.collection(\"results\").doc(o).set(a).then((function(t){})).catch((function(t){console.log(t)}))}else console.log(\"no ans.. bye\"),t.push(\"/result/\".concat(O([])))}),[n]),Object(o.useEffect)((function(){K&&(d.a.ref().child(K.screenshot).getDownloadURL().then((function(t){b(t)})).catch((function(t){alert(t)})),d.a.ref().child(K.thumbnail).getDownloadURL().then((function(t){m(t)})).catch((function(t){alert(t)})),d.a.ref().child(_[K.good].thumbnail).getDownloadURL().then((function(t){S(t)})).catch((function(t){alert(t)})),d.a.ref().child(_[K.bad].thumbnail).getDownloadURL().then((function(t){M(t)})).catch((function(t){alert(t)})))}),[K]),Object(o.useEffect)((function(){p&&g&&j&&T&&(e({type:l.b,data:{screenshotUrl:p,thumbUrl:g,goodUrl:j,badUrl:T}}),L(!0))}),[p,g,j,T]),Object(o.useEffect)((function(){e({type:l.d})}),[c.badUrl]);return function e(){0==D?window.setTimeout(e,500):(t.push(\"/result/\".concat(K.id)),L(!1))}(),U(a.a.Fragment,null,U(i.a,{justify:\"center\"},U(s.a,{xs:16,sm:14,md:10,lg:8,xl:8},U(E.f,null,U(R.Spinner,null)))),U(i.a,{justify:\"center\"},U(s.a,{xs:16,sm:14,md:10,lg:8,xl:8},U(k,{style:{textAlign:\"center\",display:\"block\",marginTop:\"30px\",fontSize:\"20px\"}},\"\\ubd84\\uc11d\\uc911..\"))))}}},[[\"C5RK\",1,2,6,8,7,0,4,3,5]]]);","extractedComments":[]}